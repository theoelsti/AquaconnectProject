var chartHidden=false;var selected;$(function(){$('input[name="datetimes"]').daterangepicker({timePicker:true,timePicker24Hour:true,startDate:moment().startOf('hour'),endDate:moment().startOf('hour').add(32,'hour'),locale:{format:'YYYY-M-DD HH:mm'}})});$(function(){$('input[name="datetimes"]').on("change",function(){selected=$(this).val().split(' - ')})});function displayHistory(){if(chartHidden){document.getElementsByClassName('chart-container')[0].style.display='none';chartHidden=!chartHidden}else{document.getElementsByClassName('chart-container')[0].style.display='block';chartHidden=!chartHidden}}function reloadToZero(){document.location.href=location.protocol+'//'+location.host+location.pathname+'?id='+urlParams.get('id')}let changeMenuHidden=true;let readyToChange=false;let tempValue=null;let lumValue=null;function displayChangeMenu(){checkForChange();if(changeMenuHidden){Array.from(document.getElementsByClassName('change-value')).forEach(valueDiv=>{valueDiv.style.display='block'});changeMenuHidden=!changeMenuHidden}else{Array.from(document.getElementsByClassName('change-value')).forEach(valueDiv=>{valueDiv.style.display='none'});changeMenuHidden=!changeMenuHidden}}function showVal(id,value){greenifyButton();if(id==0){document.getElementById('tempValue').innerHTML=value+'Â°C';tempValue=value}else{document.getElementById('lumValue').innerHTML=value;lumValue=value}}function greenifyButton(){if(!readyToChange){document.getElementById('valueChangeButton').innerHTML='Confirmer';document.getElementById('valueChangeButton').style.backgroundColor='#28a745';document.getElementById('valueChangeButton').style.backgroundColor='#28a745';readyToChange=true}}const queryString=window.location.search;const urlParams=new URLSearchParams(queryString);function checkForChange(){if(readyToChange){document.location.href=location.protocol+'//'+location.host+location.pathname+'?id='+urlParams.get('id')+'&temp='+tempValue+'&lum='+lumValue}}setTimeout(function(){window.location.search.split('&').forEach(element=>{if(element.split('=')[0]=='temp'||element.split('=')[0]=='lum'){document.location.href=location.protocol+'//'+location.host+location.pathname+'?id='+urlParams.get('id')}})},10);